#!/usr/bin/bash

# wget https://raw.githubusercontent.com/mugimugi555/raspberrypi/main/lite/install_gpio.sh && bash install_gpio.sh ;

#-----------------------------------------------------------------------------------------------------------------------
# install gpio command
#-----------------------------------------------------------------------------------------------------------------------
sudo apt update ;
sudo apt install -y wiringpi ;

#-----------------------------------------------------------------------------------------------------------------------
# manual install
#-----------------------------------------------------------------------------------------------------------------------
if ! [ -x "$(command -v gpio)" ]; then
  sudo apt purge -y wiringpi ;
  sudo apt install -y git ;
  hash -r ;
  cd ;
  git clone https://github.com/WiringPi/WiringPi.git ;
  cd WiringPi ;
  sudo ./build ;
  #sudo ldconfig ;
  #sudo ./build install ;
  cd ;
fi

#-----------------------------------------------------------------------------------------------------------------------
# check all gpio
#-----------------------------------------------------------------------------------------------------------------------
gpio -v ;
gpio readall ;

#-----------------------------------------------------------------------------------------------------------------------
# clear all setting
#-----------------------------------------------------------------------------------------------------------------------
gpio unexportall ;
gpio reset ;

#i2cdeetect -y 1
