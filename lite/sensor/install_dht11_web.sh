#!/usr/bin/bash

#-----------------------------------------------------------------------------------------------------------------------
# install python3 pip
#-----------------------------------------------------------------------------------------------------------------------
sudo apt update ;
sudo apt install -y python3-pip ;

#-----------------------------------------------------------------------------------------------------------------------
# install DHT
#-----------------------------------------------------------------------------------------------------------------------
cd ;
git clone --recursive https://github.com/adafruit/Adafruit_Python_DHT.git ;
cd Adafruit_Python_DHT ;
sudo python3 setup.py install ;

#-----------------------------------------------------------------------------------------------------------------------
#
#-----------------------------------------------------------------------------------------------------------------------
cd ;
pip3 install bottle ;
sudo python3 dht11_web.py ;


#-----------------------------------------------------------------------------------------------------------------------
# create python file
#-----------------------------------------------------------------------------------------------------------------------
cd ;
MY_DHT11_WEB=$(cat<<TEXT


TEXT
)
echo "$MY_DHT11_WEB" > ~/dht11_web.py ;

#-----------------------------------------------------------------------------------------------------------------------
# do sensor
#-----------------------------------------------------------------------------------------------------------------------
sudo python3 dht11_web.py ;
